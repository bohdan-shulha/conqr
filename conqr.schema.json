{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Conqr Configuration File",
  "description": "Configuration file for conqr - a dead-simple TUI process runner",
  "type": "object",
  "properties": {
    "commands": {
      "description": "Commands to run concurrently. Can be an array of strings, an object with name-command pairs, or an array of objects with name and command properties.",
      "oneOf": [
        {
          "type": "array",
          "items": {
            "oneOf": [
              {
                "type": "string",
                "description": "Command string. The command name will be auto-extracted from the first word."
              },
              {
                "type": "object",
                "required": ["name", "command"],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Display name for the process"
                  },
                  "command": {
                    "type": "string",
                    "description": "Command to execute"
                  }
                },
                "additionalProperties": false
              }
            ]
          },
          "minItems": 1
        },
        {
          "type": "object",
          "patternProperties": {
            ".*": {
              "type": "string",
              "description": "Command to execute. The key is used as the display name."
            }
          },
          "additionalProperties": false,
          "minProperties": 1
        }
      ]
    }
  },
  "required": ["commands"],
  "additionalProperties": false,
  "examples": [
    {
      "commands": [
        "npm run dev",
        "npm run build",
        "npm run worker"
      ]
    },
    {
      "commands": {
        "Dev Server": "npm run dev",
        "Build Process": "npm run build",
        "Worker": "npm run worker"
      }
    },
    {
      "commands": [
        {
          "name": "Dev Server",
          "command": "npm run dev"
        },
        {
          "name": "Build Process",
          "command": "npm run build"
        },
        {
          "name": "Worker",
          "command": "npm run worker"
        }
      ]
    },
    {
      "commands": [
        "npm run dev",
        {
          "name": "Build Process",
          "command": "npm run build"
        },
        "npm run worker"
      ]
    }
  ]
}
